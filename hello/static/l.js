
// var hotel = [
    

var hotels = [
    {
        "name": "Hotel Maurya",
        "address": "Fraser Road, Patna",
        "phone": "+91 9876543210",
        "rating": 4.5,
        "website": "http://www.hotelmauryapatna.com",
        "latitude": 25.611,
        "longitude": 85.142,
        "map": '<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7195.696625121298!2d85.133056293352!3d25.609956259789755!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed5857d6555555%3A0xa5e87a1f3059ceb5!2sHotel%20Maurya!5e0!3m2!1sen!2sin!4v1719642960526!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        "name": "Patliputra Exotica",
        "address": "Bailey Road, Patna",
        "phone": "+91 9876543211",
        "rating": 4.3,
        "website": "http://www.patliputraexotica.com",
        "latitude": 25.614,
        "longitude": 85.148,
        "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.795540068388!2d85.13993447551134!3d25.6117094774465!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed585c01a47705%3A0x316e4c961d9b091d!2sHotel%20Patliputra%20Exotica!5e0!3m2!1sen!2sin!4v1719643232923!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
   
    {
      "name": "Lemon Tree Premier",
      "address": "Raja Bazar, Patna",
      "phone": "+91 9876543212",
      "rating": 4.2,
      "website": "http://www.lemontreehotels.com",
      "latitude": 25.606,
      "longitude": 85.141,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.711854146605!2d85.14116407551137!3d25.614489477444767!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed585973c721d1%3A0x3c3871ad3cf02a8d!2sLemon%20Tree%20Premier%2C%20Patna!5e0!3m2!1sen!2sin!4v1719643294487!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Chanakya",
      "address": "Beer Chand Patel Path, Patna",
      "phone": "+91 9876543213",
      "rating": 4.0,
      "website": "http://www.hotelchanakyapatna.com",
      "latitude": 25.608,
      "longitude": 85.131,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3598.123660658348!2d85.12316157551098!3d25.60080677745335!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed59003e4eb723%3A0x9dca36639eac155b!2sHotel%20chanakya!5e0!3m2!1sen!2sin!4v1719643450516!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "The Panache",
      "address": "Fraser Road, Patna",
      "phone": "+91 9876543214",
      "rating": 4.4,
      "website": "http://www.thepanachepatna.com",
      "latitude": 25.611,
      "longitude": 85.143,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.684707346952!2d85.14222811123224!3d25.615391218668506!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed58599ede394f%3A0x893309b93db63996!2sHotel%20The%20Panache!5e0!3m2!1sen!2sin!4v1719643515538!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Patliputra Continental",
      "address": "Exhibition Road, Patna",
      "phone": "+91 9876543215",
      "rating": 4.1,
      "website": "http://www.patliputracontinental.com",
      "latitude": 25.611,
      "longitude": 85.146,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3598.585677120177!2d85.09357327551045!3d25.58544767746296!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed57e34b66bad9%3A0xbe75aff7e613d0ad!2sHOTEL%20PATLIPUTRA%20CONTINENTAL!5e0!3m2!1sen!2sin!4v1719643554080!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Windsor",
      "address": "Station Road, Patna",
      "phone": "+91 9876543216",
      "rating": 3.9,
      "website": "http://www.hotelwindsorpatna.com",
      "latitude": 25.594,
      "longitude": 85.135,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3700.9524307477736!2d85.13676408247238!3d25.608639919300643!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed585dca35b255%3A0xe6d3108645f34c13!2sHotel%20Windsor!5e1!3m2!1sen!2sin!4v1719643803112!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Vijaya Tej Clarks Inn",
      "address": "Kankarbagh Main Road, Patna",
      "phone": "+91 9876543217",
      "rating": 4.0,
      "website": "http://www.clarksinn.in",
      "latitude": 25.600,
      "longitude": 85.187,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3700.164636440371!2d85.10379757551196!3d25.63407357743228!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed577e06ac1aaf%3A0xbd2332fa6775dd0!2sVijayaTej%20Clarks%20Inn%2C%20Patna!5e1!3m2!1sen!2sin!4v1719643827825!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "The AVR Hotels and Banquets",
      "address": "Patliputra Colony, Patna",
      "phone": "+91 9876543218",
      "rating": 4.2,
      "website": "http://www.avrhotels.com",
      "latitude": 25.613,
      "longitude": 85.160,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3701.0247425748553!2d85.07460697551113!3d25.60630417744988!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed57b8f6aac67d%3A0xbb8eb8a79aa0ecaa!2sThe%20AVR%20Hotel!5e1!3m2!1sen!2sin!4v1719643911864!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Gargee Grand",
      "address": "Exhibition Road, Patna",
      "phone": "+91 9876543219",
      "rating": 4.3,
      "website": "http://www.gargeegrand.com",
      "latitude": 25.609,
      "longitude": 85.144,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3700.8165092479485!2d85.14080007551128!3d25.6130297774456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed59fcfff1c00b%3A0xfc3e29d64033b3cf!2sHotel%20Gargee%20Grand%20%7C%20Best%20Hotel%20in%20Patna%20Bihar!5e1!3m2!1sen!2sin!4v1719643943141!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Orange Inn",
      "address": "Boring Road, Patna",
      "phone": "+91 9876543220",
      "rating": 4.0,
      "website": "http://www.orangeinnpatna.com",
      "latitude": 25.605,
      "longitude": 85.124,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3701.2424821892637!2d85.16210177551086!3d25.599269777454285!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed5970f2db752b%3A0x8a25f1b8929b19!2sHotel%20Orange%20Inn!5e1!3m2!1sen!2sin!4v1719643967869!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Samrat International",
      "address": "Beer Chand Patel Path, Patna",
      "phone": "+91 9876543221",
      "rating": 3.8,
      "website": "http://www.samratinternational.com",
      "latitude": 25.611,
      "longitude": 85.135,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3700.9559212445038!2d85.13502987551117!3d25.6085271774486!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed5842d34fedf3%3A0x306d505d8e0372ec!2sHotel%20Samrat%20International%2C%20Banquet%20Hall%20(Weddingz.in%20Partner)!5e1!3m2!1sen!2sin!4v1719643995026!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Republic",
      "address": "Station Road, Patna",
      "phone": "+91 9876543222",
      "rating": 4.1,
      "website": "http://www.hotelrepublicpatna.com",
      "latitude": 25.594,
      "longitude": 85.134,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3700.8987114019924!2d85.14037807551121!3d25.610374977447314!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed585e9f9507cb%3A0x2c57e9c89d85edde!2sHotel%20Republic!5e1!3m2!1sen!2sin!4v1719644021360!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
      "name": "Hotel Astor",
      "address": "Fraser Road, Patna",
      "phone": "+91 9876543223",
      "rating": 4.0,
      "website": "http://www.hotelastorpatna.com",
      "latitude": 25.611,
      "longitude": 85.142,
      "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.90255539661!2d85.13534847551114!3d25.608154077448702!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed595b61c5f34b%3A0x1d5e5cacb4d8a1ac!2sHotel%20ASTOR!5e0!3m2!1sen!2sin!4v1719644054667!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    },
    {
        "name": "Lemon Tree Premier",
        "address": "Raja Bazar, Patna",
        "phone": "+91 9876543212",
        "rating": 4.2,
        "website": "http://www.lemontreehotels.com",
        "latitude": 25.606,
        "longitude": 85.141,
        "map": ' <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.8024317382988!2d85.14025937551128!3d25.61148052744663!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed585973c721d1%3A0x3c3871ad3cf02a8d!2sLemon%20Tree%20Premier%2C%20Patna!5e0!3m2!1sen!2sin!4v1719644091160!5m2!1sen!2sin" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'
    }
    
];

function calculateDistance(lat1, lon1, lat2, lon2) {
    var R = 6371; // Radius of the Earth in kilometers
    var dLat = (lat2 - lat1) * Math.PI / 180;
    var dLon = (lon2 - lon1) * Math.PI / 180;
    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
            Math.sin(dLon / 2) * Math.sin(dLon / 2);
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    var distance = R * c; // Distance in kilometers
    return distance;
}

function showNearbyHotels(position) {
    var userLat = position.coords.latitude;
    var userLon = position.coords.longitude;
    var maxDistance = 50; // Maximum distance in kilometers

    var nearbyHotels = hotels.filter(function(hotel) {
        var distance = calculateDistance(userLat, userLon, hotel.latitude, hotel.longitude);
        return distance <= maxDistance;
    });

    var hotelList = document.getElementById("hotelList");
    hotelList.innerHTML = '';

    nearbyHotels.forEach(function(hotel) {
        var listItem = document.createElement("li");
        listItem.classList.add("hotel");

        listItem.innerHTML = `
            <div class="hos-card">
                <h2 class="hotel-name">${hotel.name}</h2>
                <p class="hotel-address"><strong>Address:</strong> ${hotel.address}</p>
                <p class="hotel-phone"><strong>Phone:</strong> <a href="tel:${hotel.phone}">${hotel.phone}</a></p>
                <p class="hotel-rating"><strong>Rating:</strong> ${hotel.rating}</p>
                <p class="hotel-website"><strong>Website:</strong> <a href="${hotel.website}" target="_blank">${hotel.website}</a></p>
                <div class="hotel-map">${hotel.map}</div>
            </div>
        `;

        hotelList.appendChild(listItem);
    });
}

function handleGeolocationError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            console.error("User denied the request for Geolocation.");
            break;
        case error.POSITION_UNAVAILABLE:
            console.error("Location information is unavailable.");
            break;
        case error.TIMEOUT:
            console.error("The request to get user location timed out.");
            break;
        case error.UNKNOWN_ERROR:
            console.error("An unknown error occurred.");
            break;
    }
}

if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showNearbyHotels, handleGeolocationError);
} else {
    console.error("Geolocation is not supported by this browser.");
}